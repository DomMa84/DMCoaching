---
// Header.astro v1.9.7.1 - Desktop Reihenfolge + Mobile Theme Toggle Fix
// CHANGELOG v1.9.7.1:
// - ✅ FIX: Desktop Reihenfolge WIRKLICH geändert: Theme Toggle | LinkedIn
// - ✅ FIX: Mobile JavaScript doppelte toggleTheme() Funktion entfernt
// - ✅ FIX: Mobile Icons - nur eins sichtbar (wie Desktop)

import ThemeToggle from './ThemeToggle.astro';

console.log('Header v1.9.7.1 - Desktop Reihenfolge + Mobile Theme Toggle Fix');
---

<header class="bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700 fixed w-full top-0 z-50 transition-all duration-300">
  <div class="container mx-auto px-4">
    <div class="flex items-center justify-between h-16 lg:h-20">
      <!-- Logo mit zentriertem Text -->
      <div class="flex items-center">
        <a href="/" class="flex items-center space-x-3 hover:opacity-80 transition-opacity">
          <!-- ✅ VOLLSTÄNDIGER LOGO-PATH aus Projektwissen (funktionierend) -->
          <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 lg:w-12 lg:h-12" viewBox="0 0 1778 1433">
            <path fill="#D2AE6C" d="M1346.536,147.84C1241.455,252.922,1136.736,357.643,1031.126,463.254C926.022,358.15,821.475,253.602,716.82,148.947C716.82,203.569,716.82,258.414,716.82,313.896C713.113,309.612,709.955,305.872,706.703,302.216C693.015,286.826,679.3,271.461,665.594,256.087C651.889,240.714,638.182,225.341,624.476,209.968C613.511,197.669,602.537,185.378,591.583,173.07C578.221,158.058,564.882,143.026,551.521,128.015C540.566,115.707,529.59,103.418,518.625,91.119C504.919,75.746,491.251,60.338,477.497,45.009C464.938,31.012,452.279,17.106,439.705,3.124C439.248,2.616,439.225,1.717,439.000,1.000C437.889,1.000,437.444,1.000,437,1.469C437,323.54,437,645.144,437,967C439.472,967,441.286,967,443.1,967C527.43,967,611.761,967.18,696.089,966.822C710.137,966.763,724.228,964.769,738.205,962.948C760.242,960.076,781.202,953.138,801.419,944.109C834.312,929.417,863.347,909.257,887.929,882.712C898.875,870.892,908.721,858.354,917.675,844.968C934.006,820.556,945.575,794.075,953.544,765.921C958.579,748.137,962.186,729.968,962.741,711.568C963.274,693.915,962.362,676.134,960.765,658.529C959.655,646.293,957.024,634.068,953.82,622.176C946.982,596.801,936.304,573.058,922.406,550.641C906.631,525.195,885.842,503.979,866.225,481.746C860.114,474.82,853.814,468.062,847.685,461.152C835.121,446.989,822.642,432.751,810.072,418.594C803.719,411.438,797.2,404.429,790.841,397.279C788.065,394.159,786.795,390.692,786.863,386.193C787.174,365.532,786.996,344.863,787.009,324.198C787.01,322.633,787.137,321.068,787.206,319.503C787.828,319.038,788.45,318.573,789.072,318.108C928.428,457.463,1067.783,596.819,1206.904,735.939C1206.807,736.29,1206.964,735.984,1206.965,735.679C1206.984,703.847,1207.045,672.014,1206.867,640.183C1206.856,638.253,1205.32,635.848,1203.71,634.237C1081.584,512.112,959.458,389.986,837.332,267.86C836.623,267.151,835.889,266.468,835.074,265.653C889.696,211.031,944.319,156.408,999.234,101.494C1088.563,190.822,1177.892,280.151,1267.222,369.48C1267.222,369.926,1267.222,370.371,1267.222,370.817C1267.222,468.471,1267.222,566.125,1267.222,663.779C1267.222,668.502,1266.825,673.216,1268.029,677.943C1269.433,683.509,1272.987,688.324,1275.333,693.612C1277.679,698.9,1278.818,704.66,1280.556,710.252C1281.175,712.168,1281.794,714.084,1282.413,716C1347.213,716,1412.013,716,1477,716C1477,718.667,1477,721.333,1477,724C1476.721,724.279,1476.442,724.558,1476.164,724.836C1429.776,771.224,1383.388,817.612,1337,864C1347.667,864,1358.333,864,1369,864C1369.272,864.272,1369.544,864.544,1369.816,864.816C1342.605,892.027,1315.395,919.238,1288.184,946.449C1277.456,957.177,1266.728,967.905,1256,978.633C1256,981.089,1256,983.544,1256,986C1254.667,986,1253.333,986,1252,986C1251.703,985.703,1251.407,985.407,1251.11,985.11C1213.74,947.74,1176.37,910.37,1139,873C1135,873,1131,873,1127,873C1127,875.667,1127,878.333,1127,881C1115.667,881,1104.333,881,1093,881C1093,878.333,1093,875.667,1093,873C1089,873,1085,873,1081,873C1081,875.667,1081,878.333,1081,881C1069.667,881,1058.333,881,1047,881C1047,878.333,1047,875.667,1047,873C1043,873,1039,873,1035,873C1035,875.667,1035,878.333,1035,881C1023.667,881,1012.333,881,1001,881C1001,878.333,1001,875.667,1001,873C997,873,993,873,989,873C989,875.667,989,878.333,989,881C977.667,881,966.333,881,955,881C955,878.333,955,875.667,955,873C951,873,947,873,943,873C943,875.667,943,878.333,943,881C931.667,881,920.333,881,909,881C909,878.333,909,875.667,909,873C905,873,901,873,897,873C897,875.667,897,878.333,897,881C885.667,881,874.333,881,863,881C863,878.333,863,875.667,863,873C859,873,855,873,851,873C851,875.667,851,878.333,851,881C839.667,881,828.333,881,817,881C817,878.333,817,875.667,817,873C813,873,809,873,805,873C805,875.667,805,878.333,805,881C793.667,881,782.333,881,771,881C771,878.333,771,875.667,771,873C767,873,763,873,759,873C759,875.667,759,878.333,759,881C747.667,881,736.333,881,725,881C725,878.333,725,875.667,725,873C721,873,717,873,713,873C713,875.667,713,878.333,713,881C701.667,881,690.333,881,679,881C679,878.333,679,875.667,679,873C675,873,671,873,667,873C667,875.667,667,878.333,667,881C655.667,881,644.333,881,633,881C633,878.333,633,875.667,633,873C629,873,625,873,621,873C621,875.667,621,878.333,621,881C609.667,881,598.333,881,587,881C587,878.333,587,875.667,587,873C583,873,579,873,575,873C575,875.667,575,878.333,575,881C563.667,881,552.333,881,541,881C541,878.333,541,875.667,541,873C537,873,533,873,529,873C529,875.667,529,878.333,529,881C517.667,881,506.333,881,495,881C495,878.333,495,875.667,495,873C491,873,487,873,483,873C483,875.667,483,878.333,483,881C471.667,881,460.333,881,449,881C449,878.333,449,875.667,449,873C445,873,441,873,437,873C436.703,872.703,436.407,872.407,436.11,872.11C436.407,871.813,436.703,871.517,437,871.22C437,871.147,437,871.073,437,871C437,648.333,437,425.667,437,203C437.272,202.728,437.544,202.456,437.816,202.184C461.605,178.395,485.395,154.605,509.184,130.816C509.456,130.544,509.728,130.272,510,130C510,129.667,510,129.333,510,129C509.667,129,509.333,129,509,129C508.703,128.703,508.407,128.407,508.11,128.11C508.407,127.813,508.703,127.517,509,127.22C509,127.147,509,127.073,509,127C509,85.667,509,44.333,509,3C509.272,2.728,509.544,2.456,509.816,2.184C533.605,-21.605,557.395,-45.395,581.184,-69.184C581.456,-69.456,581.728,-69.728,582,-70C582,-70.333,582,-70.667,582,-71C581.667,-71,581.333,-71,581,-71C580.703,-71.297,580.407,-71.593,580.11,-71.89C580.407,-72.187,580.703,-72.483,581,-72.78C581,-72.853,581,-72.927,581,-73C581,-114.333,581,-155.667,581,-197C581.272,-197.272,581.544,-197.544,581.816,-197.816C605.605,-221.605,629.395,-245.395,653.184,-269.184C653.456,-269.456,653.728,-269.728,654,-270C654,-270.333,654,-270.667,654,-271C653.667,-271,653.333,-271,653,-271C652.703,-271.297,652.407,-271.593,652.11,-271.89C652.407,-272.187,652.703,-272.483,653,-272.78C653,-272.853,653,-272.927,653,-273C653,-314.333,653,-355.667,653,-397C653.272,-397.272,653.544,-397.544,653.816,-397.816C677.605,-421.605,701.395,-445.395,725.184,-469.184C725.456,-469.456,725.728,-469.728,726,-470C726,-470.333,726,-470.667,726,-471C725.667,-471,725.333,-471,725,-471C724.703,-471.297,724.407,-471.593,724.11,-471.89C724.407,-472.187,724.703,-472.483,725,-472.78C725,-472.853,725,-472.927,725,-473C725,-514.333,725,-555.667,725,-597C725.272,-597.272,725.544,-597.544,725.816,-597.816C749.605,-621.605,773.395,-645.395,797.184,-669.184C797.456,-669.456,797.728,-669.728,798,-670C798,-670.333,798,-670.667,798,-671C797.667,-671,797.333,-671,797,-671C796.703,-671.297,796.407,-671.593,796.11,-671.89C796.407,-672.187,796.703,-672.483,797,-672.78C797,-672.853,797,-672.927,797,-673C797,-714.333,797,-755.667,797,-797C797.272,-797.272,797.544,-797.544,797.816,-797.816C821.605,-821.605,845.395,-845.395,869.184,-869.184C869.456,-869.456,869.728,-869.728,870,-870C870,-870.333,870,-870.667,870,-871C869.667,-871,869.333,-871,869,-871C868.703,-871.297,868.407,-871.593,868.11,-871.89C868.407,-872.187,868.703,-872.483,869,-872.78C869,-872.853,869,-872.927,869,-873C869,-914.333,869,-955.667,869,-997C869.272,-997.272,869.544,-997.544,869.816,-997.816C893.605,-1021.61,917.395,-1045.39,941.184,-1069.18C941.456,-1069.46,941.728,-1069.73,942,-1070C942,-1070.33,942,-1070.67,942,-1071C941.667,-1071,941.333,-1071,941,-1071C940.703,-1071.3,940.407,-1071.59,940.11,-1071.89C940.407,-1072.19,940.703,-1072.48,941,-1072.78C941,-1072.85,941,-1072.93,941,-1073C941,-1114.33,941,-1155.67,941,-1197C941.272,-1197.27,941.544,-1197.54,941.816,-1197.82C965.605,-1221.61,989.395,-1245.39,1013.18,-1269.18C1013.46,-1269.46,1013.73,-1269.73,1014,-1270C1014,-1270.33,1014,-1270.67,1014,-1271C1013.67,-1271,1013.33,-1271,1013,-1271C1012.7,-1271.3,1012.41,-1271.59,1012.11,-1271.89C1012.41,-1272.19,1012.7,-1272.48,1013,-1272.78C1013,-1272.85,1013,-1272.93,1013,-1273C1013,-1314.33,1013,-1355.67,1013,-1397C1013.27,-1397.27,1013.54,-1397.54,1013.82,-1397.82C1037.61,-1421.61,1061.39,-1445.39,1085.18,-1469.18C1085.46,-1469.46,1085.73,-1469.73,1086,-1470C1086,-1470.33,1086,-1470.67,1086,-1471C1085.67,-1471,1085.33,-1471,1085,-1471C1084.7,-1471.3,1084.41,-1471.59,1084.11,-1471.89C1084.41,-1472.19,1084.7,-1472.48,1085,-1472.78C1085,-1472.85,1085,-1472.93,1085,-1473C1085,-1514.33,1085,-1555.67,1085,-1597C1085.27,-1597.27,1085.54,-1597.54,1085.82,-1597.82C1109.61,-1621.61,1133.39,-1645.39,1157.18,-1669.18C1157.46,-1669.46,1157.73,-1669.73,1158,-1670C1158,-1670.33,1158,-1670.67,1158,-1671C1157.67,-1671,1157.33,-1671,1157,-1671C1156.7,-1671.3,1156.41,-1671.59,1156.11,-1671.89C1156.41,-1672.19,1156.7,-1672.48,1157,-1672.78C1157,-1672.85,1157,-1672.93,1157,-1673C1157,-1714.33,1157,-1755.67,1157,-1797C1157.27,-1797.27,1157.54,-1797.54,1157.82,-1797.82C1181.61,-1821.61,1205.39,-1845.39,1229.18,-1869.18C1229.46,-1869.46,1229.73,-1869.73,1230,-1870C1230,-1870.33,1230,-1870.67,1230,-1871C1229.67,-1871,1229.33,-1871,1229,-1871C1228.7,-1871.3,1228.41,-1871.59,1228.11,-1871.89C1228.41,-1872.19,1228.7,-1872.48,1229,-1872.78C1229,-1872.85,1229,-1872.93,1229,-1873C1229,-1914.33,1229,-1955.67,1229,-1997C1229.27,-1997.27,1229.54,-1997.54,1229.82,-1997.82C1253.61,-2021.61,1277.39,-2045.39,1301.18,-2069.18C1301.46,-2069.46,1301.73,-2069.73,1302,-2070C1302,-2070.33,1302,-2070.67,1302,-2071C1301.67,-2071,1301.33,-2071,1301,-2071C1300.7,-2071.3,1300.41,-2071.59,1300.11,-2071.89C1300.41,-2072.19,1300.7,-2072.48,1301,-2072.78C1301,-2072.85,1301,-2072.93,1301,-2073"/>
          </svg>
          <div class="flex flex-col flex-shrink-0">
            <h1 class="text-xl lg:text-2xl font-bold text-text-dark dark:text-text-light leading-tight">
              Dominik Maier
            </h1>
            <p class="text-xs lg:text-sm text-text-muted dark:text-text-muted-dark font-medium leading-tight">
              Coaching & Interim Management
            </p>
          </div>
        </a>
      </div>
      
      <!-- Desktop Navigation -->
      <nav class="hidden lg:flex items-center space-x-8">
        <a href="/" class="text-text-dark dark:text-text-light hover:text-primary-gold dark:hover:text-primary-gold transition-colors font-medium">
          Home
        </a>
        
        <!-- Leistungen Dropdown -->
        <div class="relative group">
          <button 
            id="desktop-leistungen-toggle"
            class="flex items-center text-text-dark dark:text-text-light hover:text-primary-gold dark:hover:text-primary-gold transition-colors font-medium"
            aria-expanded="false"
            aria-haspopup="true"
          >
            Leistungen
            <svg 
              id="desktop-leistungen-arrow"
              class="ml-1 w-4 h-4 transition-transform duration-200" 
              fill="none" 
              stroke="currentColor" 
              viewBox="0 0 24 24"
            >
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          
          <div 
            id="desktop-leistungen-menu"
            class="absolute top-full left-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
            role="menu"
          >
            <a href="/leistung/strategische-unternehmensentwicklung" 
               class="block px-4 py-3 text-text-dark dark:text-text-light hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-primary-gold transition-colors" 
               role="menuitem">
              <div class="font-medium">Strategische Unternehmensentwicklung</div>
              <div class="text-sm text-text-muted dark:text-text-muted-dark mt-1">Nachhaltige Strategien für Wachstum</div>
            </a>
            <a href="/leistung/vertriebsoptimierung" 
               class="block px-4 py-3 text-text-dark dark:text-text-light hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-primary-gold transition-colors" 
               role="menuitem">
              <div class="font-medium">Vertriebsoptimierung</div>
              <div class="text-sm text-text-muted dark:text-text-muted-dark mt-1">Prozesse optimieren und Märkte erschließen</div>
            </a>
            <a href="/leistung/marketing-strategien" 
               class="block px-4 py-3 text-text-dark dark:text-text-light hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-primary-gold transition-colors" 
               role="menuitem">
              <div class="font-medium">Marketing-Strategien</div>
              <div class="text-sm text-text-muted dark:text-text-muted-dark mt-1">Zielgerichtete Konzepte für Sichtbarkeit</div>
            </a>
            <a href="/leistung/value-management" 
               class="block px-4 py-3 text-text-dark dark:text-text-light hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-primary-gold transition-colors" 
               role="menuitem">
              <div class="font-medium">Value Management</div>
              <div class="text-sm text-text-muted dark:text-text-muted-dark mt-1">Effiziente Prozess- und Produktoptimierung</div>
            </a>
          </div>
        </div>
        
        <a href="/blog" class="text-text-dark dark:text-text-light hover:text-primary-gold dark:hover:text-primary-gold transition-colors font-medium">
          Blog
        </a>
        <a href="/ueber-mich" class="text-text-dark dark:text-text-light hover:text-primary-gold dark:hover:text-primary-gold transition-colors font-medium">
          Über mich
        </a>
        <a href="/kontakt" class="text-text-dark dark:text-text-light hover:text-primary-gold dark:hover:text-primary-gold transition-colors font-medium">
          Kontakt
        </a>
      </nav>
      
      <!-- Desktop Right Side Icons -->
      <div class="hidden lg:flex items-center space-x-4">
        <!-- ✅ Desktop Theme Toggle (ThemeToggle.astro) -->
        <ThemeToggle />
        
        <!-- LinkedIn Button -->
        <a 
          href="https://linkedin.com/in/dominik-maier-coaching" 
          target="_blank"
          rel="noopener noreferrer"
          class="text-text-dark dark:text-text-light hover:text-primary-gold transition-colors"
          aria-label="LinkedIn Profil"
        >
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
          </svg>
        </a>
      </div>
      
      <!-- ✅ MOBILE RIGHT SIDE: Theme Toggle | LinkedIn | Hamburger (KORREKTE REIHENFOLGE) -->
      <div class="lg:hidden flex items-center space-x-3">
        <!-- Mobile Theme Toggle -->
        <button
          id="mobile-theme-toggle"
          type="button"
          class="p-2 rounded-lg border border-gray-300 dark:border-gray-600 text-text-dark dark:text-text-light hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-primary-gold dark:hover:text-primary-gold focus:outline-none focus:ring-2 focus:ring-primary-gold transition-all duration-200 flex items-center justify-center"
          aria-label="Zwischen Hell- und Dunkelmodus wechseln"
          aria-pressed="false"
        >
          <!-- Sun icon (Light Mode) - ZENTRIERT -->
          <svg
            id="mobile-theme-toggle-light-icon"
            class="w-5 h-5"
            fill="currentColor"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
            aria-hidden="true"
          >
            <path
              d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
              fill-rule="evenodd"
              clip-rule="evenodd"
            />
          </svg>
          
          <!-- Moon icon (Dark Mode) - ZENTRIERT -->
          <svg
            id="mobile-theme-toggle-dark-icon"
            class="w-5 h-5 hidden"
            fill="currentColor"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
            aria-hidden="true"
          >
            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" />
          </svg>
        </button>
        
        <!-- Mobile LinkedIn Button -->
        <a 
          href="https://linkedin.com/in/dominik-maier-coaching" 
          target="_blank"
          rel="noopener noreferrer"
          class="text-text-dark dark:text-text-light hover:text-primary-gold transition-colors p-2"
          aria-label="LinkedIn Profil"
        >
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
          </svg>
        </a>
        
        <!-- Mobile Menu Button -->
        <button 
          id="mobile-menu-toggle" 
          class="p-2 text-text-dark dark:text-text-light hover:text-primary-gold transition-colors"
          aria-label="Menü öffnen"
          aria-expanded="false"
        >
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>
    
    <!-- Mobile Menu -->
    <div id="mobile-menu" class="lg:hidden hidden bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 py-4">
      <nav class="flex flex-col space-y-4">
        <a href="/" class="block px-4 py-2 text-text-dark dark:text-text-light hover:text-primary-gold hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium">
          Home
        </a>
        
        <!-- Mobile Leistungen Accordion -->
        <div>
          <button 
            id="mobile-leistungen-toggle"
            class="flex items-center justify-between w-full px-4 py-2 text-text-dark dark:text-text-light hover:text-primary-gold hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium"
            aria-expanded="false"
          >
            Leistungen
            <svg 
              id="mobile-leistungen-arrow"
              class="w-4 h-4 transition-transform duration-200" 
              fill="none" 
              stroke="currentColor" 
              viewBox="0 0 24 24"
            >
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          
          <div id="mobile-leistungen-menu" class="hidden bg-gray-50 dark:bg-gray-800">
            <a href="/leistung/strategische-unternehmensentwicklung" class="block px-8 py-2 text-text-dark dark:text-text-light hover:text-primary-gold transition-colors">
              Strategische Unternehmensentwicklung
            </a>
            <a href="/leistung/vertriebsoptimierung" class="block px-8 py-2 text-text-dark dark:text-text-light hover:text-primary-gold transition-colors">
              Vertriebsoptimierung
            </a>
            <a href="/leistung/marketing-strategien" class="block px-8 py-2 text-text-dark dark:text-text-light hover:text-primary-gold transition-colors">
              Marketing-Strategien
            </a>
            <a href="/leistung/value-management" class="block px-8 py-2 text-text-dark dark:text-text-light hover:text-primary-gold transition-colors">
              Value Management
            </a>
          </div>
        </div>
        
        <a href="/blog" class="block px-4 py-2 text-text-dark dark:text-text-light hover:text-primary-gold hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium">
          Blog
        </a>
        <a href="/ueber-mich" class="block px-4 py-2 text-text-dark dark:text-text-light hover:text-primary-gold hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium">
          Über mich
        </a>
        <a href="/kontakt" class="block px-4 py-2 text-text-dark dark:text-text-light hover:text-primary-gold hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium">
          Kontakt
        </a>
      </nav>
    </div>
  </div>
</header>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // ✅ UNIVERSAL EVENT LISTENER - funktioniert mit Touch + Click
  function addUniversalEventListener(element, callback) {
    if (!element) return;
    
    let hasTouch = false;
    
    element.addEventListener('touchstart', function(e) {
      hasTouch = true;
      e.preventDefault();
      callback(e);
    }, { passive: false });
    
    element.addEventListener('click', function(e) {
      if (!hasTouch) {
        callback(e);
      }
      hasTouch = false;
    });
  }
  
  // ✅ MOBILE MENU TOGGLE
  const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');
  
  if (mobileMenuToggle && mobileMenu) {
    function toggleMobileMenu() {
      const isHidden = mobileMenu.classList.contains('hidden');
      console.log('🔧 Mobile Menu Toggle:', isHidden ? 'OPENING' : 'CLOSING');
      
      if (isHidden) {
        mobileMenu.classList.remove('hidden');
        mobileMenuToggle.setAttribute('aria-expanded', 'true');
      } else {
        mobileMenu.classList.add('hidden');
        mobileMenuToggle.setAttribute('aria-expanded', 'false');
      }
    }
    
    addUniversalEventListener(mobileMenuToggle, toggleMobileMenu);
  }
  
  // ✅ DESKTOP LEISTUNGEN DROPDOWN
  const desktopLeistungenToggle = document.getElementById('desktop-leistungen-toggle');
  const desktopLeistungenMenu = document.getElementById('desktop-leistungen-menu');
  const desktopLeistungenArrow = document.getElementById('desktop-leistungen-arrow');
  
  if (desktopLeistungenToggle && desktopLeistungenMenu && desktopLeistungenArrow) {
    function toggleDesktopServices() {
      const isVisible = !desktopLeistungenMenu.classList.contains('opacity-0');
      console.log('🔧 Desktop Services Toggle:', isVisible ? 'CLOSING' : 'OPENING');
      
      if (isVisible) {
        desktopLeistungenMenu.classList.add('opacity-0', 'invisible');
        desktopLeistungenArrow.classList.remove('rotate-180');
        desktopLeistungenToggle.setAttribute('aria-expanded', 'false');
      } else {
        desktopLeistungenMenu.classList.remove('opacity-0', 'invisible');
        desktopLeistungenArrow.classList.add('rotate-180');
        desktopLeistungenToggle.setAttribute('aria-expanded', 'true');
      }
    }
    
    addUniversalEventListener(desktopLeistungenToggle, toggleDesktopServices);
  }
  
  // ✅ MOBILE LEISTUNGEN ACCORDION
  const mobileLeistungenToggle = document.getElementById('mobile-leistungen-toggle');
  const mobileLeistungenMenu = document.getElementById('mobile-leistungen-menu');
  const mobileLeistungenArrow = document.getElementById('mobile-leistungen-arrow');
  
  if (mobileLeistungenToggle && mobileLeistungenMenu && mobileLeistungenArrow) {
    function toggleMobileServices() {
      const isHidden = mobileLeistungenMenu.classList.contains('hidden');
      console.log('🔧 Mobile Services Toggle:', isHidden ? 'OPENING' : 'CLOSING');
      
      if (isHidden) {
        mobileLeistungenMenu.classList.remove('hidden');
        mobileLeistungenArrow.classList.add('rotate-180');
        mobileLeistungenToggle.setAttribute('aria-expanded', 'true');
      } else {
        mobileLeistungenMenu.classList.add('hidden');
        mobileLeistungenArrow.classList.remove('rotate-180');
        mobileLeistungenToggle.setAttribute('aria-expanded', 'false');
      }
    }
    
    addUniversalEventListener(mobileLeistungenToggle, toggleMobileServices);
  }
  
  // ✅ THEME TOGGLE FUNCTIONALITY (Mobile)
  const mobileThemeToggle = document.getElementById('mobile-theme-toggle');
  const mobileThemeToggleLightIcon = document.getElementById('mobile-theme-toggle-light-icon');
  const mobileThemeToggleDarkIcon = document.getElementById('mobile-theme-toggle-dark-icon');
  
  function updateMobileThemeIcons() {
    const isDark = document.documentElement.classList.contains('dark');
    console.log('🌙 Mobile Theme Update:', isDark ? 'DARK' : 'LIGHT');
    
    // Mobile Icons Update
    if (mobileThemeToggleLightIcon && mobileThemeToggleDarkIcon) {
      if (isDark) {
        mobileThemeToggleLightIcon.classList.add('hidden');
        mobileThemeToggleDarkIcon.classList.remove('hidden');
      } else {
        mobileThemeToggleLightIcon.classList.remove('hidden');
        mobileThemeToggleDarkIcon.classList.add('hidden');
      }
    }
  }
  
  function toggleTheme() {
    const isDark = document.documentElement.classList.contains('dark');
    console.log('🔧 Theme Toggle:', isDark ? 'SWITCHING TO LIGHT' : 'SWITCHING TO DARK');
    
    if (isDark) {
      document.documentElement.classList.remove('dark');
      localStorage.setItem('theme', 'light');
    } else {
      document.documentElement.classList.add('dark');
      localStorage.setItem('theme', 'dark');
    }
    
    updateMobileThemeIcons();
  }
  
  // Mobile Theme Toggle Event
  if (mobileThemeToggle) {
    addUniversalEventListener(mobileThemeToggle, toggleTheme);
  }
  
  // Initialize mobile theme icons
  updateMobileThemeIcons();

  console.log('Header v1.9.7 Navigation komplett initialisiert');
});
</script>

<style>
  /* Universal Touch Optimierungen */
  button {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
    touch-action: manipulation;
  }
  
  /* Logo-Text Zentrierung */
  .flex-shrink-0 {
    flex-shrink: 0;
  }
  
  .leading-tight {
    line-height: 1.25;
  }
  
  /* Rotation Animation */
  .rotate-180 {
    transform: rotate(180deg);
  }
  
  .transition-transform {
    transition: transform 0.3s ease;
  }
  
  /* Dropdown States */
  .opacity-0 {
    opacity: 0;
  }
  
  .opacity-100 {
    opacity: 1;
  }
  
  .invisible {
    visibility: hidden;
  }
  
  .visible {
    visibility: visible;
  }
  
  /* Mobile Touch Area Vergrößerung */
  @media (max-width: 1024px) {
    button {
      min-height: 44px;
      min-width: 44px;
    }
  }
  
  /* Hover-Effekte für Links */
  a[href*="linkedin"]:hover svg {
    transform: scale(1.1);
    transition: transform 0.2s ease;
  }
  
  /* Mobile Theme Toggle Icon Zentrierung */
  #mobile-theme-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 44px;
    min-width: 44px;
  }
  
  #mobile-theme-toggle svg {
    margin: 0;
    display: block;
  }
</style>---
// Header.astro v1.9.7 - ALLE FEHLER KORRIGIERT
// CHANGELOG v1.9.7:
// - ✅ FIX: REIHENFOLGE Mobile: Theme Toggle | LinkedIn | Hamburger
// - ✅ FIX: LOGO vollständiger SVG-Path (aus Projektwissen)
// - ✅ FIX: Desktop Theme Toggle funktioniert wieder (ThemeToggle.astro)
// - ✅ FIX: Mobile Icons zentriert in Box

import ThemeToggle from './ThemeToggle.astro';

console.log('Header v1.9.7 - ALLE FEHLER KORRIGIERT');
---

<header class="bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700 fixed w-full top-0 z-50 transition-all duration-300">
  <div class="container mx-auto px-4">
    <div class="flex items-center justify-between h-16 lg:h-20">
      <!-- Logo mit zentriertem Text -->
      <div class="flex items-center">
        <a href="/" class="flex items-center space-x-3 hover:opacity-80 transition-opacity">
          <!-- ✅ VOLLSTÄNDIGER LOGO-PATH aus Projektwissen (funktionierend) -->
         <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 lg:w-12 lg:h-12" viewBox="0 0 1778 1433">
            <path fill="#D2AE6C" d="M1346.536,147.84C1241.455,252.922,1136.736,357.643,1031.126,463.254C926.022,358.15,821.475,253.602,716.82,148.947C716.82,203.569,716.82,258.414,716.82,313.896C713.113,309.612,709.955,305.872,706.703,302.216C693.015,286.826,679.3,271.461,665.594,256.087C651.889,240.714,638.182,225.341,624.476,209.968C613.511,197.669,602.537,185.378,591.583,173.07C578.221,158.058,564.882,143.026,551.521,128.015C540.566,115.707,529.59,103.418,518.625,91.119C504.919,75.746,491.251,60.338,477.497,45.009C464.938,31.012,452.279,17.106,439.705,3.124C439.248,2.616,439.225,1.717,439.000,1.000C437.889,1.000,437.444,1.000,437,1.469C437,323.54,437,645.144,437,967C439.472,967,441.286,967,443.1,967C527.43,967,611.761,967.18,696.089,966.822C710.137,966.763,724.228,964.769,738.205,962.948C760.242,960.076,781.202,953.138,801.419,944.109C834.312,929.417,863.347,909.257,887.929,882.712C898.875,870.892,908.721,858.354,917.675,844.968C934.006,820.556,945.575,794.075,953.544,765.921C958.579,748.137,962.186,729.968,962.741,711.568C963.274,693.915,962.362,676.134,960.765,658.529C959.655,646.293,957.024,634.068,953.82,622.176C946.982,596.801,936.304,573.058,922.406,550.641C906.631,525.195,885.842,503.979,866.225,481.746C860.114,474.82,853.814,468.062,847.685,461.152C835.121,446.989,822.642,432.751,810.072,418.594C803.719,411.438,797.2,404.429,790.841,397.279C788.065,394.159,786.795,390.692,786.863,386.193C787.174,365.532,786.996,344.863,787.009,324.198C787.01,322.633,787.137,321.068,787.206,319.503C787.828,319.038,788.45,318.573,789.072,318.108C928.428,457.463,1067.783,596.819,1206.904,735.939C1206.807,736.29,1206.964,735.984,1206.965,735.679C1206.984,703.847,1207.045,672.014,1206.867,640.183C1206.856,638.253,1205.32,635.948,1203.843,634.465C1164.791,595.267,1125.659,556.15,1086.512,517.048C1085.021,515.56,1083.236,514.366,1082.683,513.919C1147.624,448.977,1211.974,384.625,1276.126,320.471C1276.126,535.349,1276.126,750.942,1276.126,966.733C1299.839,966.733,1323.23,966.733,1346.536,966.733C1346.536,693.677,1346.536,420.888,1346.536,147.84ZM557.5,896C540.532,896,524.563,896,508.298,896C508.298,659.685,508.298,423.687,508.298,187.253C514.828,194.314,521.223,201.047,527.408,207.968C533.978,215.32,540.294,222.899,546.816,230.294C559.777,244.989,572.794,259.634,585.807,274.283C591.498,280.69,597.249,287.043,602.947,293.444C616.308,308.452,629.613,323.509,643.021,338.474C650.293,346.592,657.83,354.474,665.07,362.619C677.093,376.145,688.917,389.847,700.931,403.381C710.238,413.864,719.783,424.137,729.086,434.624C740.985,448.038,752.712,461.603,764.582,475.043C770.805,482.09,777.214,488.972,783.468,495.991C796.614,510.744,809.715,525.537,822.831,540.317C830.701,549.185,838.73,557.918,846.394,566.961C860.957,584.143,872.228,603.446,879.606,624.62C884.543,638.787,888.677,653.549,890.562,668.376C892.42,682.996,891.345,698.044,890.917,712.885C890.423,729.964,885.796,746.269,880.002,762.23C872.064,784.095,860.843,804.09,846.296,822.313C831.898,840.35,814.712,855.172,795.173,867.156C776.669,878.505,756.706,886.425,735.376,891.178C718.368,894.968,701.308,896.149,683.977,896.066C641.819,895.864,599.659,896,557.5,896Z" />
          </svg>
          <div class="flex flex-col flex-shrink-0">
            <h1 class="text-xl lg:text-2xl font-bold text-text-dark dark:text-text-light leading-tight">
              Dominik Maier
            </h1>
            <p class="text-xs lg:text-sm text-text-muted dark:text-text-muted-dark font-medium leading-tight">
              Coaching & Interim Management
            </p>
          </div>
        </a>
      </div>
      
      <!-- Desktop Navigation -->
      <nav class="hidden lg:flex items-center space-x-8">
        <a href="/" class="text-text-dark dark:text-text-light hover:text-primary-gold dark:hover:text-primary-gold transition-colors font-medium">
          Home
        </a>
        
        <!-- Leistungen Dropdown -->
        <div class="relative group">
          <button 
            id="desktop-leistungen-toggle"
            class="flex items-center text-text-dark dark:text-text-light hover:text-primary-gold dark:hover:text-primary-gold transition-colors font-medium"
            aria-expanded="false"
            aria-haspopup="true"
          >
            Leistungen
            <svg 
              id="desktop-leistungen-arrow"
              class="ml-1 w-4 h-4 transition-transform duration-200" 
              fill="none" 
              stroke="currentColor" 
              viewBox="0 0 24 24"
            >
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          
          <div 
            id="desktop-leistungen-menu"
            class="absolute top-full left-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
            role="menu"
          >
            <a href="/leistung/strategische-unternehmensentwicklung" 
               class="block px-4 py-3 text-text-dark dark:text-text-light hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-primary-gold transition-colors" 
               role="menuitem">
              <div class="font-medium">Strategische Unternehmensentwicklung</div>
              <div class="text-sm text-text-muted dark:text-text-muted-dark mt-1">Nachhaltige Strategien für Wachstum</div>
            </a>
            <a href="/leistung/vertriebsoptimierung" 
               class="block px-4 py-3 text-text-dark dark:text-text-light hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-primary-gold transition-colors" 
               role="menuitem">
              <div class="font-medium">Vertriebsoptimierung</div>
              <div class="text-sm text-text-muted dark:text-text-muted-dark mt-1">Prozesse optimieren und Märkte erschließen</div>
            </a>
            <a href="/leistung/marketing-strategien" 
               class="block px-4 py-3 text-text-dark dark:text-text-light hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-primary-gold transition-colors" 
               role="menuitem">
              <div class="font-medium">Marketing-Strategien</div>
              <div class="text-sm text-text-muted dark:text-text-muted-dark mt-1">Zielgerichtete Konzepte für Sichtbarkeit</div>
            </a>
            <a href="/leistung/value-management" 
               class="block px-4 py-3 text-text-dark dark:text-text-light hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-primary-gold transition-colors" 
               role="menuitem">
              <div class="font-medium">Value Management</div>
              <div class="text-sm text-text-muted dark:text-text-muted-dark mt-1">Effiziente Prozess- und Produktoptimierung</div>
            </a>
          </div>
        </div>
        
        <a href="/blog" class="text-text-dark dark:text-text-light hover:text-primary-gold dark:hover:text-primary-gold transition-colors font-medium">
          Blog
        </a>
        <a href="/ueber-mich" class="text-text-dark dark:text-text-light hover:text-primary-gold dark:hover:text-primary-gold transition-colors font-medium">
          Über mich
        </a>
        <a href="/kontakt" class="text-text-dark dark:text-text-light hover:text-primary-gold dark:hover:text-primary-gold transition-colors font-medium">
          Kontakt
        </a>
      </nav>
      
      <!-- Desktop Right Side Icons -->
      <div class="hidden lg:flex items-center space-x-4">
        <!-- LinkedIn Button -->
        <a 
          href="https://linkedin.com/in/dominik-maier-coaching" 
          target="_blank"
          rel="noopener noreferrer"
          class="text-text-dark dark:text-text-light hover:text-primary-gold transition-colors"
          aria-label="LinkedIn Profil"
        >
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
          </svg>
        </a>
        
        <!-- ✅ Desktop Theme Toggle (ThemeToggle.astro) -->
        <ThemeToggle />
      </div>
      
      <!-- ✅ MOBILE RIGHT SIDE: Theme Toggle | LinkedIn | Hamburger (KORREKTE REIHENFOLGE) -->
      <div class="lg:hidden flex items-center space-x-3">
        <!-- Mobile Theme Toggle -->
        <button
          id="mobile-theme-toggle"
          type="button"
          class="p-2 rounded-lg border border-gray-300 dark:border-gray-600 text-text-dark dark:text-text-light hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-primary-gold dark:hover:text-primary-gold focus:outline-none focus:ring-2 focus:ring-primary-gold transition-all duration-200 flex items-center justify-center"
          aria-label="Zwischen Hell- und Dunkelmodus wechseln"
          aria-pressed="false"
        >
          <!-- Sun icon (Light Mode) - ZENTRIERT -->
          <svg
            id="mobile-theme-toggle-light-icon"
            class="w-5 h-5"
            fill="currentColor"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
            aria-hidden="true"
          >
            <path
              d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
              fill-rule="evenodd"
              clip-rule="evenodd"
            />
          </svg>
          
          <!-- Moon icon (Dark Mode) - ZENTRIERT -->
          <svg
            id="mobile-theme-toggle-dark-icon"
            class="w-5 h-5 hidden"
            fill="currentColor"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
            aria-hidden="true"
          >
            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" />
          </svg>
        </button>
        
        <!-- Mobile LinkedIn Button -->
        <a 
          href="https://linkedin.com/in/dominik-maier-coaching" 
          target="_blank"
          rel="noopener noreferrer"
          class="text-text-dark dark:text-text-light hover:text-primary-gold transition-colors p-2"
          aria-label="LinkedIn Profil"
        >
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
          </svg>
        </a>
        
        <!-- Mobile Menu Button -->
        <button 
          id="mobile-menu-toggle" 
          class="p-2 text-text-dark dark:text-text-light hover:text-primary-gold transition-colors"
          aria-label="Menü öffnen"
          aria-expanded="false"
        >
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>
    
    <!-- Mobile Menu -->
    <div id="mobile-menu" class="lg:hidden hidden bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 py-4">
      <nav class="flex flex-col space-y-4">
        <a href="/" class="block px-4 py-2 text-text-dark dark:text-text-light hover:text-primary-gold hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium">
          Home
        </a>
        
        <!-- Mobile Leistungen Accordion -->
        <div>
          <button 
            id="mobile-leistungen-toggle"
            class="flex items-center justify-between w-full px-4 py-2 text-text-dark dark:text-text-light hover:text-primary-gold hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium"
            aria-expanded="false"
          >
            Leistungen
            <svg 
              id="mobile-leistungen-arrow"
              class="w-4 h-4 transition-transform duration-200" 
              fill="none" 
              stroke="currentColor" 
              viewBox="0 0 24 24"
            >
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          
          <div id="mobile-leistungen-menu" class="hidden bg-gray-50 dark:bg-gray-800">
            <a href="/leistung/strategische-unternehmensentwicklung" class="block px-8 py-2 text-text-dark dark:text-text-light hover:text-primary-gold transition-colors">
              Strategische Unternehmensentwicklung
            </a>
            <a href="/leistung/vertriebsoptimierung" class="block px-8 py-2 text-text-dark dark:text-text-light hover:text-primary-gold transition-colors">
              Vertriebsoptimierung
            </a>
            <a href="/leistung/marketing-strategien" class="block px-8 py-2 text-text-dark dark:text-text-light hover:text-primary-gold transition-colors">
              Marketing-Strategien
            </a>
            <a href="/leistung/value-management" class="block px-8 py-2 text-text-dark dark:text-text-light hover:text-primary-gold transition-colors">
              Value Management
            </a>
          </div>
        </div>
        
        <a href="/blog" class="block px-4 py-2 text-text-dark dark:text-text-light hover:text-primary-gold hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium">
          Blog
        </a>
        <a href="/ueber-mich" class="block px-4 py-2 text-text-dark dark:text-text-light hover:text-primary-gold hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium">
          Über mich
        </a>
        <a href="/kontakt" class="block px-4 py-2 text-text-dark dark:text-text-light hover:text-primary-gold hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium">
          Kontakt
        </a>
      </nav>
    </div>
  </div>
</header>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // ✅ UNIVERSAL EVENT LISTENER - funktioniert mit Touch + Click
  function addUniversalEventListener(element, callback) {
    if (!element) return;
    
    let hasTouch = false;
    
    element.addEventListener('touchstart', function(e) {
      hasTouch = true;
      e.preventDefault();
      callback(e);
    }, { passive: false });
    
    element.addEventListener('click', function(e) {
      if (!hasTouch) {
        callback(e);
      }
      hasTouch = false;
    });
  }
  
  // ✅ MOBILE MENU TOGGLE
  const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');
  
  if (mobileMenuToggle && mobileMenu) {
    function toggleMobileMenu() {
      const isHidden = mobileMenu.classList.contains('hidden');
      console.log('🔧 Mobile Menu Toggle:', isHidden ? 'OPENING' : 'CLOSING');
      
      if (isHidden) {
        mobileMenu.classList.remove('hidden');
        mobileMenuToggle.setAttribute('aria-expanded', 'true');
      } else {
        mobileMenu.classList.add('hidden');
        mobileMenuToggle.setAttribute('aria-expanded', 'false');
      }
    }
    
    addUniversalEventListener(mobileMenuToggle, toggleMobileMenu);
  }
  
  // ✅ DESKTOP LEISTUNGEN DROPDOWN
  const desktopLeistungenToggle = document.getElementById('desktop-leistungen-toggle');
  const desktopLeistungenMenu = document.getElementById('desktop-leistungen-menu');
  const desktopLeistungenArrow = document.getElementById('desktop-leistungen-arrow');
  
  if (desktopLeistungenToggle && desktopLeistungenMenu && desktopLeistungenArrow) {
    function toggleDesktopServices() {
      const isVisible = !desktopLeistungenMenu.classList.contains('opacity-0');
      console.log('🔧 Desktop Services Toggle:', isVisible ? 'CLOSING' : 'OPENING');
      
      if (isVisible) {
        desktopLeistungenMenu.classList.add('opacity-0', 'invisible');
        desktopLeistungenArrow.classList.remove('rotate-180');
        desktopLeistungenToggle.setAttribute('aria-expanded', 'false');
      } else {
        desktopLeistungenMenu.classList.remove('opacity-0', 'invisible');
        desktopLeistungenArrow.classList.add('rotate-180');
        desktopLeistungenToggle.setAttribute('aria-expanded', 'true');
      }
    }
    
    addUniversalEventListener(desktopLeistungenToggle, toggleDesktopServices);
  }
  
  // ✅ MOBILE LEISTUNGEN ACCORDION
  const mobileLeistungenToggle = document.getElementById('mobile-leistungen-toggle');
  const mobileLeistungenMenu = document.getElementById('mobile-leistungen-menu');
  const mobileLeistungenArrow = document.getElementById('mobile-leistungen-arrow');
  
  if (mobileLeistungenToggle && mobileLeistungenMenu && mobileLeistungenArrow) {
    function toggleMobileServices() {
      const isHidden = mobileLeistungenMenu.classList.contains('hidden');
      console.log('🔧 Mobile Services Toggle:', isHidden ? 'OPENING' : 'CLOSING');
      
      if (isHidden) {
        mobileLeistungenMenu.classList.remove('hidden');
        mobileLeistungenArrow.classList.add('rotate-180');
        mobileLeistungenToggle.setAttribute('aria-expanded', 'true');
      } else {
        mobileLeistungenMenu.classList.add('hidden');
        mobileLeistungenArrow.classList.remove('rotate-180');
        mobileLeistungenToggle.setAttribute('aria-expanded', 'false');
      }
    }
    
    addUniversalEventListener(mobileLeistungenToggle, toggleMobileServices);
  }
  
  // ✅ THEME TOGGLE FUNCTIONALITY (Mobile)
  const mobileThemeToggle = document.getElementById('mobile-theme-toggle');
  const mobileThemeToggleLightIcon = document.getElementById('mobile-theme-toggle-light-icon');
  const mobileThemeToggleDarkIcon = document.getElementById('mobile-theme-toggle-dark-icon');
  
  function updateMobileThemeIcons() {
    const isDark = document.documentElement.classList.contains('dark');
    console.log('🌙 Mobile Theme Update:', isDark ? 'DARK' : 'LIGHT');
    
    // Mobile Icons Update
    if (mobileThemeToggleLightIcon && mobileThemeToggleDarkIcon) {
      if (isDark) {
        mobileThemeToggleLightIcon.classList.add('hidden');
        mobileThemeToggleDarkIcon.classList.remove('hidden');
      } else {
        mobileThemeToggleLightIcon.classList.remove('hidden');
        mobileThemeToggleDarkIcon.classList.add('hidden');
      }
    }
  }
  
  function toggleTheme() {
    const isDark = document.documentElement.classList.contains('dark');
    console.log('🔧 Theme Toggle:', isDark ? 'SWITCHING TO LIGHT' : 'SWITCHING TO DARK');
    
    if (isDark) {
      document.documentElement.classList.remove('dark');
      localStorage.setItem('theme', 'light');
    } else {
      document.documentElement.classList.add('dark');
      localStorage.setItem('theme', 'dark');
    }
    
    updateMobileThemeIcons();
  }
  
  // Mobile Theme Toggle Event
  if (mobileThemeToggle) {
    addUniversalEventListener(mobileThemeToggle, toggleTheme);
  }
  
  // Initialize mobile theme icons
  updateMobileThemeIcons();

  console.log('Header v1.9.7 Navigation komplett initialisiert');
});
</script>

<style>
  /* Universal Touch Optimierungen */
  button {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
    touch-action: manipulation;
  }
  
  /* Logo-Text Zentrierung */
  .flex-shrink-0 {
    flex-shrink: 0;
  }
  
  .leading-tight {
    line-height: 1.25;
  }
  
  /* Rotation Animation */
  .rotate-180 {
    transform: rotate(180deg);
  }
  
  .transition-transform {
    transition: transform 0.3s ease;
  }
  
  /* Dropdown States */
  .opacity-0 {
    opacity: 0;
  }
  
  .opacity-100 {
    opacity: 1;
  }
  
  .invisible {
    visibility: hidden;
  }
  
  .visible {
    visibility: visible;
  }
  
  /* Mobile Touch Area Vergrößerung */
  @media (max-width: 1024px) {
    button {
      min-height: 44px;
      min-width: 44px;
    }
  }
  
  /* Hover-Effekte für Links */
  a[href*="linkedin"]:hover svg {
    transform: scale(1.1);
    transition: transform 0.2s ease;
  }
  
  /* Mobile Theme Toggle Icon Zentrierung */
  #mobile-theme-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 44px;
    min-width: 44px;
  }
  
  #mobile-theme-toggle svg {
    margin: 0;
    display: block;
  }
</style>
